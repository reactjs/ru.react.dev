---
title: Добавление React в существующий проект
---

<Intro>

Если вы хотите добавить интерактивность в существующий проект, вам необязательно переписывать его полностью на React. Добавьте React в уже существующий стек, и осуществляйте отображение интерактивных React-компонентов где угодно.

</Intro>

<Note>

**Вам нужно установить [Node.js](https://nodejs.org/en/) для локальной разработки.** Хотя вы и можете [попробовать React](/learn/installation#try-react) онлайн или на простой HTML странице, скорее всего большинство JavaScript инструментов, которыми вы будете пользоваться при разработке требуют наличие Node.js.

</Note>

## Использование React для выбранного пути имеющегося веб-сайта {/*using-react-for-an-entire-subroute-of-your-existing-website*/}

Предположим, что у вас уже есть веб-приложение расположенное на домене `example.com` и построенное с помощью какой-либо серверной технологии (например, Rails). И теперь вы хотите перенести все пути, начинающиеся с `example.com/some-app/` полностью на React.

Вот как мы рекомендуем это сделать:

1. **Разработайте часть приложения с использованием React,** используя один из [фреймворков основанных на нем](/learn/start-a-new-react-project).
2. **Укажите `/some-app` как *базовый путь*** в конфигурационном файле вашего фреймворка (например: [Next.js](https://nextjs.org/docs/api-reference/next.config.js/basepath), [Gatsby](https://www.gatsbyjs.com/docs/how-to/previews-deploys-hosting/path-prefix/)).
3. **Сконфигурируйте ваш сервер или прокси** таким образом, чтобы все запросы с путем `/some-app/` обрабатывались вашим React приложением.

Такой подход гарантирует, что часть вашего приложения, написанная на React, сможет [получить максимум от best-practice подходов](/learn/start-a-new-react-project#can-i-use-react-without-a-framework), используемых в основе этих фреймворков.

Большинство фреймворков построенных на основе React являются full-stack решениями и позволяют вашему React приложению получать больше преимуществ за счет использования сервера. Однако, вы можете использовать такой подход даже если вы не можете или не хотите запускать JavaScript на стороне сервера. В таком случае, используйте именованный экспорт HTML/CSS/JS ([см. раздел `next export`](https://nextjs.org/docs/advanced-features/static-html-export) для Next.js, и по умолчанию для Gatsby) на пути `/some-app/`.

## Использование React, как часть имеющегося приложения {/*using-react-for-a-part-of-your-existing-page*/}

Предположим, что у вас уже есть веб-страница, разработанная с использованием другой технологии (или серверной, например, Rails, или клиентской, например, Backbone), и вы хотите отображать интерактивные React компоненты где-либо на этой странице. Далее приведен общепринятый подход к интеграции Данный подход является наиболее распространенным для интеграции React. Стоит заметить, что такой подход являлся также наиболее распространенным в компании Meta на протяжении многих лет!

Для его реализации выполните следующие шаги:

1. **Укажите среду исполнения JavaScript** таким образом, чтобы можно было использовать [синтаксис JSX](/learn/writing-markup-with-jsx), разделите ваш код на модули при помощи синтаксиса [`import`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/import) / [`export`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/export), и воспользуйтесь пакетами (например, React) из репозитория пакетов [npm](https://www.npmjs.com/).
2. **Отобразите ваши React компоненты** там, где хотите, чтобы они располагались на странице.

Такой подход зависит от вашей текущей конфигурации страниц, так что нам необходимо обсудить несколько деталей.

### Шаг 1: Задайте модульную среду исполнения JavaScript {/*step-1-set-up-a-modular-javascript-environment*/}

Модульная среда исполнения JavaScript позволяет вам описывать ваши React компоненты в отдельных файлах, вместо того, чтобы писать весь ваш код в одном файле. Это также позволит вам пользоваться замечательными пакетами, опубликованные другими разработчиками в репозитории [npm](https://www.npmjs.com/) включая сам React! То, как это сделать – зависит от вашей текущей конфигурации:

* **Если ваше приложение уже разделено на файлы с использованием ключевого слова `import`,** попробуйте воспользоваться имеющейся конфигурацией. Проверьте, вызывает ли синтаксис вида `<div />` внутри вашего JS кода синтаксическую ошибку. Если да – то вам, скорее всего, необходимо осуществлять [трансформацию вашего JavaScript кода с помощью Babel](https://babeljs.io/setup), и включить [Babel пресет для React](https://babeljs.io/docs/babel-preset-react), чтобы использовать JSX.

* **Если в вашем приложении отсутствует какая-либо конфигурация для компиляции JavaScript модулей,** настройте ее с помощью [Vite](https://vitejs.dev/). Сообщество Vite осуществляет доступность [большого количества интеграции с серверными фреймворками](https://github.com/vitejs/awesome-vite#integrations-with-backends), включая Rails, Django, и Laravel. Если ваш серверный фреймворк не включен в список, то [воспользуйтесь этой инструкцией](https://vitejs.dev/guide/backend-integration.html) для ручной интеграции сборки Vite с серверной частью вашего приложения.

Для того чтобы убедиться, что ваша конфигурация работает, запустите следующую команду внутри вашей папки проекта:

<TerminalBlock>
npm install react react-dom
</TerminalBlock>

После чего, добавьте следующие строчки кода сверху вашего главного JavaScript файла (он может иметь название `index.js` или `main.js`):

<Sandpack>

```html index.html hidden
<!DOCTYPE html>
<html>
  <head><title>Мое приложение</title></head>
  <body>
    <!-- Ваш существующий контент страницы (в этом примере он будет заменен) -->
  </body>
</html>
```

```js src/index.js active
import { createRoot } from 'react-dom/client';

// Очищаем существующий HTML контент
document.body.innerHTML = '<div id="app"></div>';

// Отображаем ваш React компонент вместо него
const root = createRoot(document.getElementById('app'));
root.render(<h1>Привет, мир</h1>);
```

</Sandpack>

Если абсолютно весь контент вашей страницы будет заменен фразой "Привет, мир!" - то все отработало правильно! Продолжайте прочтение.

<Note>

Интеграция модульной среды исполнения JavaScript в существующий проект может, поначалу, показаться устрашающим процессом, но оно того стоит! Если вы почувствуете затруднения, то попробуйте воспользоваться нашими [общественными ресурсами](/community) или [чатом Vite](https://chat.vitejs.dev/).

</Note>

### Шаг 2: Отображение React компонентов в любом месте страницы {/*step-2-render-react-components-anywhere-on-the-page*/}

В предыдущем шаге вы расположили следующий код сверху вашего главного файла:

```js
import { createRoot } from 'react-dom/client';

// Очищаем существующий HTML контент
document.body.innerHTML = '<div id="app"></div>';

// Отображаем ваш React компонент вместо него
const root = createRoot(document.getElementById('app'));
root.render(<h1>Привет, мир</h1>);
```

Однако, как было описано ранее, это приведет к полному удалению контента страницы. Конечно же, вы не горите желанием удалять существующий HTML контент!

Поэтому, удалите этот код.

Вместо полной замены контента, вы, скорее всего, хотите отображать ваши React компоненты в конкретных местах вашего HTML кода. Откройте вашу HTML страницу (или шаблоны, расположенные на сервере, которые его генерируют) и добавьте уникальные [`id`](https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes/id) атрибуты к любому тегу, например:

```html
<!-- ... где-то внутри вашего html ... -->
<nav id="navigation"></nav>
<!-- ... больше html ... -->
```

Это позволит вам, в дальнейшем, найти этот элемент при помощи вызова функции [`document.getElementById`](https://developer.mozilla.org/en-US/docs/Web/API/Document/getElementById) и передать его в функцию [`createRoot`](/reference/react-dom/client/createRoot) для отображения вашего React компонента внутри него:

<Sandpack>

```html index.html
<!DOCTYPE html>
<html>
  <head><title>Мое приложение</title></head>
  <body>
    <p>Этот параграф является частью HTML разметки.</p>
    <nav id="navigation"></nav>
    <p>Этот параграф - так же часть HTML разметки.</p>
  </body>
</html>
```

```js src/index.js active
import { createRoot } from 'react-dom/client';

function NavigationBar() {
  // TODO: реализовать NavBar
  return <h1>Вам привет от React!</h1>;
}

const domNode = document.getElementById('navigation');
const root = createRoot(domNode);
root.render(<NavigationBar />);
```

</Sandpack>

Обратите внимание, что оригинальный HTML контент, находящийся внутри файла `index.html` сохраняется и, в то же время, ваш React компонент `NavigationBar` так же отображается внутри элемента `<nav id="navigation">`, расположенном внутри вашего HTML кода. Рекомендуем вам прочитать [документацию к использованию функции `createRoot`](/reference/react-dom/client/createRoot#rendering-a-page-partially-built-with-react) для более глубокого изучения процесса отображения React компонентов внутри существующих HTML странице.

Когда вы внедряете React в существующий проект, распространенным подходом является начинать с интеграции небольших интерактивных компонентов (например, кнопок), и затем постепенно продолжать"двигаться вперед" до тех пор, пока наконец, вся ваша страница не будет построена с использованием React. Если вы друг достигнете этой точки, то мы рекомендуем провести полную миграцию на любой [основанный на React фреймворк](/learn/start-a-new-react-project) сразу после этого, чтобы получить максимум выгоды от использования React.

## Использование React Native в существующем нативном мобильном приложении {/*using-react-native-in-an-existing-native-mobile-app*/}

[React Native](https://reactnative.dev/) так же может быть постепенно интегрирован в уже существующие нативные приложения. Если у вас есть существующее нативное приложения для Android (с использованием Java или Kotlin) или iOS (с использованием Objective-C или Swift), [воспользуйтесь этой инструкцией](https://reactnative.dev/docs/integration-with-existing-apps) для добавления React Native экрана в него.
